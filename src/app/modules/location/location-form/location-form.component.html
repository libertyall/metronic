<kt-portlet>
	<kt-portlet-header [icon]="'fa fa-pen'"
					   [title]="location.id ? ('locations.edit.title' | translate) : ('locations.create.title' | translate)">
		<ng-container ktPortletTools>
			<button type="button" class="btn btn-success mr-1"
					(click)="createLocation()">
				<span class="fa fa-save"
					  aria-hidden="true"> {{ location.id ? ('locations.edit.button' | translate) : ('locations.save.button' | translate) }}</span>
			</button>
			<div ngbDropdown>
				<button class="btn btn-outline-secondary" id="dropdownConfig"
						ngbDropdownToggle>{{'actions' | translate}}</button>
				<div ngbDropdownMenu aria-labelledby="dropdownConfig">
					<button class="dropdown-item"
							[routerLink]="['/locations/list']">{{'locations.list.button' | translate }}</button>
					<button *ngIf="location.id" class="dropdown-item"
							(click)="removeLocation(location, true)">{{'locations.delete.button' | translate}}</button>
					<button class="dropdown-item" (click)="resetForm()">{{'locations.resetForm' | translate}}</button>
				</div>
			</div>
		</ng-container>
	</kt-portlet-header>

	<kt-portlet-body [formGroup]="form">
		<div class="row">

			<div class="col-lg-12">
				<mdb-tabset #staticTabs [vertical]="true" [buttonClass]="'md-tabs tabs-2 tabs-primary'">

					<mdb-tab heading="{{'locations.detail.mainTitle' | translate }}">
						<div class="row">
							<div class="col-lg-6">
								<kt-portlet>
									<kt-portlet-header
										[title]="'locations.detail.mainTitle' | translate"></kt-portlet-header>
									<kt-portlet-body>
										<mat-form-field class="mat-form-field-fluid"
														hintLabel="Max {{titleMaxLength}} characters">
											<input matInput maxlength="{{titleMaxLength}}"
												   placeholder="{{'locations.edit.placeholder.title' | translate}}"
												   formControlName="title">
											<mat-hint align="end">{{form.get('title').value.length || 0}}
												/{{titleMaxLength}}</mat-hint>
										</mat-form-field>

										<mat-form-field class="mat-form-field-fluid my-3">
											<mat-select
												placeholder="{{'locations.edit.placeholder.assignedCategory' | translate}}"
												formControlName="assignedCategory" multiple>
												<mat-option *ngFor="let category of categories | orderBy: ['title']"
															[value]="category.id" size="3">
													{{category.title}}
												</mat-option>
											</mat-select>
										</mat-form-field>

										<mat-form-field class="mat-form-field-fluid my-3">
											<input matInput
												   placeholder="{{'locations.edit.placeholder.fupaLink' | translate}}"
												   formControlName="fupaLink">
										</mat-form-field>

										<mat-checkbox formControlName="isImported">
											{{'locations.edit.placeholder.isImported' | translate}}
										</mat-checkbox>
									</kt-portlet-body>
								</kt-portlet>
							</div>
							<div class="col-lg-6">
								<kt-portlet>
									<kt-portlet-header
										[title]="'locations.detail.description' | translate"></kt-portlet-header>
									<kt-portlet-body>
										<textarea formControlName="text"></textarea>
									</kt-portlet-body>
								</kt-portlet>
								<kt-portlet>
									<kt-portlet-header
										[title]="'locations.detail.opening' | translate"></kt-portlet-header>
									<kt-portlet-body>
										<textarea formControlName="opening"></textarea>
									</kt-portlet-body>
								</kt-portlet>
							</div>
						</div>
					</mdb-tab>

					<mdb-tab heading="{{'locations.detail.assignedItems' | translate }}" (select)="onSelectAssignedItemsTab($event)">
						<div class="row">
							<div class="col-lg-6">
								<kt-portlet>
									<kt-portlet-header
										[title]="'locations.detail.assignedArticles' | translate"></kt-portlet-header>
									<kt-portlet-body>ToDo</kt-portlet-body>
								</kt-portlet>
							</div>
							<div class="col-lg-6">
								<kt-portlet>
									<kt-portlet-header
										[title]="'locations.detail.assignedGalleries' | translate"></kt-portlet-header>
									<kt-portlet-body>ToDo</kt-portlet-body>
								</kt-portlet>
							</div>
						</div>
					</mdb-tab>

					<mdb-tab heading="{{'locations.detail.mediaTitle' | translate }}">
						<div class="row">
							<div class="col-lg-8">
								<kt-portlet>
									<kt-portlet-header [title]="'locations.detail.imageUrl' | translate"></kt-portlet-header>
									<kt-portlet-body>
										<!--<media-uploader (uploadCompleted)="uploadCompleted($event)"
														[uploaderConfig]="uploaderConfig"
														[uploaderOptions]="uploaderOptions">
										</media-uploader>-->
									</kt-portlet-body>
								</kt-portlet>
							</div>
							<div class="col-lg-4">
								<kt-portlet>
									<kt-portlet-header
										[title]="'locations.detail.files' | translate"></kt-portlet-header>
									<kt-portlet-body>ToDo</kt-portlet-body>
								</kt-portlet>
							</div>
						</div>
					</mdb-tab>

				</mdb-tabset>
			</div>
		</div>
	</kt-portlet-body>

	<kt-portlet-footer>
		<div class="row">
			<div class="col-lg-12 text-right py-3 px-5">
				<div class="btn-group" role="group">
					<button type="button" class="btn btn-success mr-1"
							(click)="createLocation()">
				<span class="fa fa-save"
					  aria-hidden="true"> {{ location.id ? ('locations.edit.button' | translate) : ('locations.save.button' | translate) }}</span>
					</button>
					<div ngbDropdown>
						<button class="btn btn-outline-secondary" id="dropdownConfig2"
								ngbDropdownToggle>{{'actions' | translate}}</button>
						<div ngbDropdownMenu aria-labelledby="dropdownConfig">
							<button class="dropdown-item"
									[routerLink]="['/locations']">{{'locations.list.button' | translate }}</button>
							<button *ngIf="location.id" class="dropdown-item"
									(click)="removeLocation(location, true)">{{'locations.delete.button' | translate}}</button>
							<button class="dropdown-item"
									(click)="resetForm()">{{'locations.resetForm' | translate}}</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</kt-portlet-footer>
</kt-portlet>
